#N canvas 0 50 1920 1026 10;
#X obj 305 16 loadbang;
#X obj 305 39 s lb;
#N canvas 0 50 1920 1026 input 0;
#X obj 18 2 adc~ 2;
#X obj 127 198 s~ ip;
#X obj 74 104 lop~ 2000;
#X obj 72 52 hip~ 50;
#X obj 73 81 hip~ 50;
#X obj 132 13 inlet;
#X obj 211 12 inlet;
#X obj 127 139 *~;
#X obj 12 27 *~;
#X obj 12 176 throw~ amp;
#X msg 239 119 open BridgePickup.wav;
#X obj 239 136 readsf~;
#X msg 209 106 1;
#X obj 324 147 delay 2;
#X connect 0 0 8 0;
#X connect 2 0 7 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 5 0 8 1;
#X connect 6 0 7 1;
#X connect 7 0 1 0;
#X connect 8 0 3 0;
#X connect 8 0 9 0;
#X connect 10 0 11 0;
#X connect 11 0 1 0;
#X connect 11 1 13 0;
#X connect 11 1 10 0;
#X connect 12 0 11 0;
#X connect 13 0 12 0;
#X restore 21 39 pd input;
#X text 13 264 dac2 is exciter output \, dac1 is amp out \, adc2 is
input after lunch tidy up what frequency ranges can the ransducer produce
smoothly. ~ ip is filtered input signal, f 34;
#N canvas 0 50 864 300 pitch_analyse 0;
#X obj 177 60 sigmund~ -npts 128 -hop 1024 pitch env;
#X obj 176 38 r~ ip;
#X obj 151 119 outlet;
#X obj 320 120 outlet;
#X obj 177 82 clip 40 400;
#X connect 0 0 4 0;
#X connect 0 1 3 0;
#X connect 1 0 0 0;
#X connect 4 0 2 0;
#X restore 21 81 pd pitch_analyse;
#N canvas 955 50 958 1021 sustain 0;
#X obj 135 184 vline~;
#X obj 182 231 / 100;
#X obj 16 369 *~ 1;
#X obj 16 433 throw~ top;
#X obj 17 159 r~ ip;
#X obj 16 223 *~ 0;
#X obj 58 106 r lb;
#X msg 57 163 1 1000;
#X obj 58 128 delay 1000;
#X obj 57 185 line 0 10;
#X obj 71 353 line;
#X obj 126 260 > 0.797;
#X obj 199 259 < 0.796;
#X obj 17 320 vcf~ 0.707;
#X obj 113 305 expr $f1*.9+$f2*2;
#X obj 135 134 inlet;
#X obj 182 210 inlet;
#X obj 323 348 inlet;
#X obj 15 392 *~ 0;
#X obj 126 277 f;
#X obj 199 276 f;
#X obj 135 158 pack 200 100;
#X obj 87 331 pack 0 2000;
#X connect 0 0 13 1;
#X connect 1 0 11 0;
#X connect 1 0 12 0;
#X connect 2 0 18 0;
#X connect 4 0 5 0;
#X connect 5 0 13 0;
#X connect 6 0 8 0;
#X connect 7 0 9 0;
#X connect 8 0 7 0;
#X connect 9 0 5 1;
#X connect 10 0 2 1;
#X connect 11 0 19 0;
#X connect 12 0 20 0;
#X connect 13 0 2 0;
#X connect 14 0 22 0;
#X connect 15 0 21 0;
#X connect 16 0 1 0;
#X connect 17 0 18 1;
#X connect 18 0 3 0;
#X connect 19 0 14 0;
#X connect 20 0 14 1;
#X connect 21 0 0 0;
#X connect 22 0 10 0;
#X restore 21 116 pd sustain;
#X obj 111 109 tgl 8 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#N canvas 957 50 958 1021 feed 0;
#X obj 135 184 vline~;
#X obj 369 140 / 100;
#X obj 16 369 *~ 1;
#X obj 16 433 throw~ top;
#X obj 19 209 r~ ip;
#X obj 18 273 *~ 0;
#X obj 60 156 r lb;
#X msg 59 213 1 1000;
#X obj 60 178 delay 1000;
#X obj 59 235 line 0 10;
#X obj 82 338 line;
#X obj 17 320 vcf~ 0.707;
#X obj 135 104 inlet;
#X obj 262 96 inlet;
#X obj 181 247 expr $f1*.8+$f2*1.2;
#X obj 135 128 * 3;
#X obj 180 201 > 0.697;
#X obj 303 206 < 0.696;
#X obj 180 218 f;
#X obj 303 223 f;
#X obj 351 317 inlet;
#X obj 135 158 pack 200 100;
#X obj 114 310 pack 0 750;
#X obj 16 386 *~ 0;
#X connect 0 0 11 1;
#X connect 1 0 16 0;
#X connect 1 0 17 0;
#X connect 2 0 23 0;
#X connect 4 0 5 0;
#X connect 5 0 11 0;
#X connect 6 0 8 0;
#X connect 7 0 9 0;
#X connect 8 0 7 0;
#X connect 9 0 5 1;
#X connect 10 0 2 1;
#X connect 11 0 2 0;
#X connect 12 0 15 0;
#X connect 13 0 1 0;
#X connect 14 0 22 0;
#X connect 15 0 21 0;
#X connect 16 0 18 0;
#X connect 17 0 19 0;
#X connect 18 0 14 0;
#X connect 19 0 14 1;
#X connect 20 0 23 1;
#X connect 21 0 0 0;
#X connect 22 0 10 0;
#X connect 23 0 3 0;
#X restore 20 147 pd feed;
#X obj 81 136 tgl 8 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#N canvas 0 50 1920 1026 control 0;
#X obj 35 17 adc~ 3;
#X obj 34 97 s~ pot;
#X obj 35 34 /~ 0.814;
#X obj 35 51 lop~ 0.5;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X restore 140 7 pd control;
#X obj 230 132 r~ pot;
#X obj 261 164 dac~ 30;
#X obj 14 16 tgl 8 1 empty lb mute 17 7 1 10 -262144 -1 -1 1 1;
#X obj 56 18 tgl 8 0 empty lb mute_amp 17 7 1 10 -262144 -1 -1 1 1
;
#N canvas -4 -4 1920 1026 beads 0;
#X obj 47 24 r~ ip;
#X obj 47 120 abs~;
#X obj 31 385 *~;
#X obj 47 138 max~;
#X obj 112 116 r lb;
#X obj 112 150 sig~;
#X obj 49 366 r~ excitations;
#X msg 112 133 0.29;
#N canvas 0 50 1920 1026 filters 0;
#X obj 13 7 inlet~;
#X obj 12 195 outlet~;
#X obj 12 77 vcf~ 30;
#X obj 87 77 vcf~ 10;
#X obj 13 115 expr~ $v1*.3+$v2*.7;
#X obj 90 9 r lb;
#X msg 90 26 200;
#X obj 90 43 sig~;
#X obj 150 43 sig~;
#X msg 150 27 5000;
#X connect 0 0 2 0;
#X connect 0 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 4 1;
#X connect 4 0 1 0;
#X connect 5 0 6 0;
#X connect 5 0 9 0;
#X connect 6 0 7 0;
#X connect 7 0 2 1;
#X connect 8 0 3 1;
#X connect 9 0 8 0;
#X restore 41 406 pd filters;
#X obj 299 84 noise~;
#X obj 325 103 env~ 2;
#X obj 327 119 / 100;
#X obj 325 154 expr ($f1-$f2)*100;
#X obj 325 171 clip 0 1;
#X obj 299 194 *~;
#X obj 408 123 expr $f1/5+.8;
#X obj 350 261 s~ excitations;
#X obj 325 137 >;
#X obj 408 91 inlet;
#X obj 41 469 throw~ top;
#X obj 89 422 inlet;
#X obj 41 443 *~;
#X obj 12 212 max~ 0;
#X text 63 72 Consider using vcf \, and low pass as an attack detector
, f 20;
#X obj 12 188 expr~ ($v1-$v2)/(1-$v2);
#N canvas -4 -4 1920 1026 envelope 0;
#X obj 59 102 env~ 128;
#X obj 60 123 / 100;
#X obj 60 162 max 0;
#X obj 132 177 -;
#X obj 133 197 > 0;
#X obj 75 234 route 1 0;
#X obj 75 216 pack 0 0;
#X obj 103 281 line 0 100;
#X obj 103 258 pack 0 1000;
#X obj 27 217 spigot;
#X obj 59 80 r~ ip;
#X obj 60 141 expr ($f1-$f2)/(1-$f2);
#X obj 201 97 inlet;
#X obj 271 231 inlet;
#X obj 103 298 outlet;
#X connect 0 0 1 0;
#X connect 1 0 11 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 2 0 6 1;
#X connect 2 0 9 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 4 0 9 1;
#X connect 5 1 8 0;
#X connect 6 0 5 0;
#X connect 7 0 14 0;
#X connect 8 0 7 0;
#X connect 9 0 7 0;
#X connect 10 0 0 0;
#X connect 11 0 2 0;
#X connect 12 0 11 1;
#X connect 13 0 8 1;
#X restore 66 276 pd envelope;
#X obj 112 236 r lb;
#X msg 112 253 200;
#X text 151 244 release;
#X text 554 43 In this version I have normalised the rectified and
noise-floored signal \, and created a release envelope The event threshold
should be no lower than 9.4;
#X obj 25 299 *~;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 8 0;
#X connect 3 0 24 0;
#X connect 4 0 7 0;
#X connect 5 0 3 1;
#X connect 5 0 24 1;
#X connect 6 0 2 1;
#X connect 7 0 5 0;
#X connect 7 0 25 0;
#X connect 8 0 21 0;
#X connect 9 0 10 0;
#X connect 9 0 14 0;
#X connect 10 0 11 0;
#X connect 11 0 17 0;
#X connect 12 0 13 0;
#X connect 13 0 14 1;
#X connect 14 0 16 0;
#X connect 15 0 12 1;
#X connect 15 0 17 1;
#X connect 17 0 12 0;
#X connect 18 0 15 0;
#X connect 20 0 21 1;
#X connect 21 0 19 0;
#X connect 22 0 30 0;
#X connect 24 0 22 0;
#X connect 25 0 30 1;
#X connect 26 0 27 0;
#X connect 27 0 25 1;
#X connect 30 0 2 0;
#X restore 118 200 pd beads;
#X obj 181 164 snapshot~;
#X obj 156 114 r lb;
#X obj 156 131 metro 200;
#X obj 118 183 tgl 8 0 empty lb shaker 17 7 1 10 -262144 -1 -1 1 1
;
#N canvas 0 50 1920 1026 output 0;
#X obj 151 54 catch~ top;
#X obj 151 71 hip~ 50;
#X obj 101 95 dac~ 1 2;
#X obj 75 54 catch~ amp;
#X obj 75 73 hip~ 5;
#X connect 0 0 1 0;
#X connect 1 0 2 1;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X restore 415 18 pd output;
#X text 341 262 to do: 1 Make feedback and beads filters responsive
to acc. 2 make beads nicer (filters). 3 extend beads to synth drums.
time delay effects Amplitude env fixed but not tested, f 39;
#X connect 0 0 1 0;
#X connect 4 0 5 0;
#X connect 4 0 7 0;
#X connect 4 1 5 1;
#X connect 4 1 7 1;
#X connect 6 0 5 2;
#X connect 8 0 7 2;
#X connect 10 0 11 0;
#X connect 10 0 15 0;
#X connect 12 0 2 0;
#X connect 13 0 2 1;
#X connect 15 0 14 1;
#X connect 16 0 17 0;
#X connect 17 0 15 0;
#X connect 18 0 14 0;
